---
title: Using Arscons
summary: Free'd from the tyranny of an IDE.
date: 2012-08-24 14:10:22
---
I've used Arch Linux for years -- always a bit ineptly, I must admit -- and a while back, mostly because of Adobe CS, I switched to Mac. I've been pretty happy since, but there's something about coding in Snow Leopard or Lion or Cat or whatever we're on, that I've never really liked.

I've always had another machine around--a Thinkpad X40, to take up the slack. My old X40--which accompanied me on a six month jaunt in Central America and has earned my devoted trust and affection since. I've since amassed a small collection of the things--you can get one in working-order on Ebay for around $65 bucks, last I checked. I'm presently running Arch off've a 4GB USB stick (the ones on Ebay almost never have drives). I couldn't be happier. I'm not the only one. Mako has a [great post](http://mako.cc/copyrighteous/20111207-00) on the travesty that is the 16:9 screen ratio --which makes my little, cranky skull-bucket thinkpad feel roomier than the glossy MacBook Pro I work on.

At any rate, all of that doesn't change the fact that it's an antiquated machine--and I use it primarily for text editing. I like coding on it--but in vim with my own config. Not in an unwieldy and poorly-rendered Java app. The Arduino IDE--as fantastic as it is--has been a raw spot on my Arch machine. I've been using [Brian Mayton's](http://bdm.cc) Makefile ([file](https://github.com/samjacoby/avr/blob/master/makefiles.templates/avr_makefile_brian)) to compile my avr programs--but honestly, I love the convenience of the Arduino libraries and all the rest, even if they're anathema to Assembly Cowboy's. Not growing up on embedded programming, the whole `(1 << PB4)`, alas, does not quite feel like first nature.  

So -- can you have it all? Vim, an X40, a tiling WM (Awesome and Xmonad) + Arduino? Sure. Doesn't mean it's particularly easy, but [Arscons](https://github.com/suapapa/arscons) makes the process relatively painless. Install the necessaries: 

    sudo pacman -S install python-pyserial scons  

Then grab the SContstruct file and copy it into your sketch folder, type `scons`, and let the magic unfold. Maybe. Didn't work for me outt've the box. Because I have several versions of avr-gcc, a conflict prevented programs from compiling correctly. I edited the SConstruct file to make it work right--in my case, I just modified the AVR_BIN_PREFIX setting to point to the actual Arduino install of `avr-gcc`. That broke `avrdude`, but such is life. I don't know exactly what was amiss, but it seemed to have worked fine.

Now I can work on mac, quickly compiling Arduino programs and such--sync them up through GitHub--and work on my X40 with Scons, without having to stop using vim.

Yes, yes, I know I can use an external editor with Arduino, but I don't like doing that for some reason. I end up being confused about where I should be editing. So that's that--not so grand. Scons is basically Make--or does the same things, at least--and lets you use Python rather than all of that gibberish. There *are* `Makefiles` for Arduino that do the exact same thing--but they are even more of a code soup.  

